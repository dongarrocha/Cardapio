<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Garrocha - Card√°pio</title>
  <style>
    :root{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;color:#222}
    body{margin:0;background:linear-gradient(180deg,#fff 0%,#fffef8 100%);}

    header{padding:20px;text-align:center;background:#8B0000;color:white}
    header h1{margin:0;font-size:20px;letter-spacing:0.5px}
    header p{margin:6px 0 0;font-size:13px;opacity:0.95}

    .container{max-width:1100px;margin:18px auto;padding:12px}
    .layout{display:grid;grid-template-columns:1fr 360px;gap:18px}
    @media(max-width:980px){.layout{grid-template-columns:1fr}}

    .card{background:white;border-radius:12px;padding:12px;box-shadow:0 6px 18px rgba(0,0,0,0.06)}
    .section-title{display:flex;align-items:center;gap:10px;margin:10px 0 12px}

    .grid-catalog{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
    @media(max-width:900px){.grid-catalog{grid-template-columns:repeat(2,1fr)}}
    @media(max-width:520px){.grid-catalog{grid-template-columns:1fr}}

    .item-card{border-radius:12px;border:1px solid #eee;padding:10px;display:flex;flex-direction:column;align-items:center;min-height:220px}
    .item-card img{width:100%;height:140px;object-fit:cover;border-radius:8px;background:#f5f5f5}
    .no-image{width:100%;height:140px;border-radius:8px;background:#f5f5f5;display:flex;align-items:center;justify-content:center;color:#999;font-size:13px;text-align:center;padding:10px}
    .item-name{margin-top:8px;font-weight:700;text-align:center}
    .item-meta{font-size:13px;color:#666;margin-top:4px}
    .add-btn{margin-top:10px;background:#1976d2;color:#fff;border:none;padding:8px 12px;border-radius:8px;cursor:pointer}

    .cart{position:sticky;top:18px}
    .cart h3{margin:0 0 8px}
    .cart-list{max-height:420px;overflow:auto;display:flex;flex-direction:column;gap:8px}

    .cart-item{display:flex;justify-content:space-between;align-items:center;padding:8px;border-radius:8px;border:1px dashed #eee}
    .total-row{display:flex;justify-content:space-between;padding:12px 0;font-weight:700}

    textarea{width:100%;border-radius:8px;border:1px solid:#ddd;padding:8px}
    .pill{background:#f7f7f7;padding:6px 10px;border-radius:999px}
  </style>
</head>
<body>
  <header>
    <h1>Card√°pio ‚Äî Espetos, Bebidas, Sobremesas e Lanches</h1>
    <p>Toque para adicionar ao carrinho ‚Äî depois envie via WhatsApp.</p>
  </header>

  <div class="container">
    <div class="layout">
      <main>

        <div class="card"><div class="section-title"><h2>üç¢ Espetos</h2></div><div class="grid-catalog" id="catalog-espetos"></div></div>
        <div style="height:12px"></div>

        <div class="card"><div class="section-title"><h2>ü•§ Bebidas</h2></div><div class="grid-catalog" id="catalog-bebidas"></div></div>
        <div style="height:12px"></div>

        <div class="card"><div class="section-title"><h2>üçß Sobremesas</h2></div><div class="grid-catalog" id="catalog-sobremesas"></div></div>
        <div style="height:12px"></div>

        <div class="card"><div class="section-title"><h2>üçî Lanches</h2></div><div class="grid-catalog" id="catalog-lanches"></div></div>
        <div style="height:12px"></div>

        <div class="card"><div class="section-title"><h2>üçΩÔ∏è Acompanhamentos</h2></div><div class="grid-catalog" id="catalog-acompanhamentos"></div></div>

      </main>

      <aside class="card cart">
        <h3>Seu Pedido</h3>
        <div class="cart-list" id="cartList"></div>

        <div class="total-row"><span>Total itens</span><span id="itemsTotal">0</span></div>
        <div class="total-row"><span>Sub-total</span><span id="subTotal">R$ 0,00</span></div>
        <div class="total-row" style="font-size:18px"><span>Total</span><span id="grandTotal">R$ 0,00</span></div>

        <textarea id="note" rows="3" placeholder="Endere√ßo ou observa√ß√µes..."></textarea>

        <button id="whatsappBtn" class="add-btn">Enviar via WhatsApp</button>
        <button id="copyBtn" class="add-btn" style="background:#444">Copiar pedido</button>

        <div class="pill">üìû +55 47 99152-9698</div>
      </aside>
    </div>
  </div>

<script>
const PHONE = '5547991529698';

// üî• LISTA DE ITENS INDISPON√çVEIS
const INDISPONIVEIS = ['SUCO MARACUJA','CORACAO BOVINO'];

const CATALOG = {
  espetos:['CARNE','CARNE C BACON','CARNE E FRANGO','CARNE C QUEIJO','CARNE E CALABRESA','CALABRESA','FRANGO','FRANGO C BACON','FRANGO C QUEIJO','FRANGO E CALABRESA','CORA√á√ÉO BOVINO','CORA√á√ÉO FGO','TULIPA','TRI MISTO','P√ÉO DE ALHO','QUEIJO','QUEIJO C BACON','MILHO'],
  bebidas:['COCA 600','COCA LATA','COCA ZERO LATA','FANTA LATA','GUARAN√Å LATA','UVA LATA','HEINEKEN','SPATEN','BUDWEISER','SUCO CUPUA√áU','SUCO ACEROLA','SUCO GRAVIOLA','SUCO MARACUJ√Å','√ÅGUA C G√ÅS','√ÅGUA S G√ÅS'],
  sobremesas:['A√áA√ç','PUDIM'],
  lanches:['P√ÉO BOVINO','P√ÉO DE CALABRESA','P√ÉO DE CORA√á√ÉO','P√ÉO ESPECIAL'],
  acompanhamentos:['ARROZ VINAGRETE E FAROFA','CALDO DE AIPIM CALABRESA E BACON','TALHARIM']
};

const DEFAULT_PRICES={
'CARNE':21,'CARNE_C_BACON':22,'CARNE_E_FRANGO':20,'CARNE_C_QUEIJO':22,'CARNE_E_CALABRESA':20,'CALABRESA':16,'FRANGO':18,'FRANGO_C_BACON':20,'FRANGO_C_QUEIJO':22,'FRANGO_E_CALABRESA':20,'CORACAO_BOVINO':15,'CORACAO_FGO':12,'TULIPA':13,'TRI_MISTO':23,'PAO_DE_ALHO':6,'QUEIJO_C_BACON':14,'COCA_600':12,'COCA_LATA':7,'COCA_ZERO_LATA':7,'FANTA_LATA':7,'GUARANA_LATA':6,'UVA_LATA':6,'HEINEKEN':12,'SPATEN':12,'BUDWEISER':12,'SUCO':12,'AGUA_C_GAS':4,'AGUA_S_GAS':4,'ACAI':20,'PAO_BOVINO':28,'PAO_DE_CALABRESA':25,'PAO_DE_CORACAO':23,'PAO_ESPECIAL':30,'MILHO':10,'QUEIJO':10,'PUDIM':15,'SUCO_CUPUA√áU':15,'SUCO_ACEROLA':15,'SUCO_GRAVIOLA':15,'SUCO_MARACUJA':15,'ARROZ_VINAGRETE_E_FAROFA':5,'CALDO_DE_AIPIM_CALABRESA_E_BACON':15,'TALHARIM':15};

function removeAccents(str){return str.normalize('NFD').replace(/[\u0300-\u036f]/g,'');}

function filenameFromName(name){
  const clean = removeAccents(name).toLowerCase().replace(/\//g,' ').trim();
  return `${clean}.png`;
}

function keyFromName(name){return removeAccents(name).toUpperCase().replace(/\W+/g,'_');}
function money(v){return 'R$ '+Number(v||0).toFixed(2).replace('.',',');}

const state={cart:{}};

function createItemObject(name){
  return {name,file: filenameFromName(name),price: DEFAULT_PRICES[keyFromName(name)]||0};
}

function renderSection(sectionId, items){
  const div=document.getElementById(sectionId);
  div.innerHTML='';

  items.forEach(name=>{
    const item=createItemObject(name);
    const unavailable = INDISPONIVEIS.includes(name);

    div.innerHTML+=`
      <div class="item-card" style="${unavailable?'opacity:0.45;pointer-events:none':''}">
        <img src="imagens/${item.file}" alt="${item.name}" style="${unavailable?'filter:grayscale(100%)':''}">
        <div class="item-name" style="${unavailable?'text-decoration:line-through;color:#999':''}">${name}</div>
        <div class="item-meta">${unavailable?'‚ùå Indispon√≠vel':money(item.price)}</div>

        ${
          unavailable
          ? `<button class="add-btn" disabled style="background:#777;cursor:not-allowed">Indispon√≠vel</button>`
          : `<button class="add-btn" onclick="addToCart('${name}',${item.price})">Adicionar</button>`
        }
      </div>
    `;
  });
}

function addToCart(name,price){
  if(!state.cart[name]) state.cart[name]={name,price,qtd:0};
  state.cart[name].qtd++;
  renderCart();
}

function renderCart(){
  const list=document.getElementById('cartList');
  list.innerHTML='';
  let total=0,items=0;

  Object.values(state.cart).forEach(it=>{
    total+=it.price*it.qtd; items+=it.qtd;
    list.innerHTML+=`<div class="cart-item">${it.name} x${it.qtd}<button onclick="removeItem('${it.name}')">‚ùå</button></div>`;
  });

  document.getElementById('itemsTotal').innerText=items;
  document.getElementById('subTotal').innerText=money(total);
  document.getElementById('grandTotal').innerText=money(total);
}

function removeItem(name){
  delete state.cart[name];
  renderCart();
}

function buildMessage(){
  let msg="Pedido Garrocha:%0A%0A";
  Object.values(state.cart).forEach(it=>{msg+=`- ${it.name} x${it.qtd} (%20${money(it.price*it.qtd)})%0A`;});
  msg+=`%0ATotal: ${document.getElementById('grandTotal').innerText}%0A%0AObs: ${document.getElementById('note').value}`;
  return msg;
}

document.getElementById('whatsappBtn').onclick=()=>window.open(`https://wa.me/${PHONE}?text=${buildMessage()}`);
document.getElementById('copyBtn').onclick=()=>navigator.clipboard.writeText(buildMessage());

(function(){
  renderSection('catalog-espetos',CATALOG.espetos);
  renderSection('catalog-bebidas',CATALOG.bebidas);
  renderSection('catalog-sobremesas',CATALOG.sobremesas);
  renderSection('catalog-lanches',CATALOG.lanches);
  renderSection('catalog-acompanhamentos',CATALOG.acompanhamentos);
})();
</script>
</body>
</html>
